function _$(n) {
    return $(document.all[n])
}
function Nooooo() {}
var jQuery = jQuery || $, Cm = Cm || {}, Lan, dialog, b4Bind, log, G;
Cm.Lan = {};
String.prototype.exLang = Cm.exLang = function() {
    var t = _.get(window, "$Lan.code"), n;
    return t == "zh" ? this.toString() : (n = _.get(window, '$Lan.data["' + this + '"]'),
    !n) ? (console.warn("未配置的语言：", this.toString()),
    this) : n
}
;
Lan = window.Lan;
dialog = dialog || {};
Cm.__showErrorDialog = 0;
onerror = function(n) {
    return console.log("[Bug提示]出错啦！", n),
    Cm.__showErrorDialog && (new Cm.dialog).showError("[JS Error] " + n),
    !1
}
;
b4Bind = Function.prototype.bind;
Function.prototype.bind = function(n) {
    var t = this;
    return function() {
        t.apply(n, arguments)
    }
}
;
log = console.log.bind(console);
Function.prototype.bind = b4Bind;
Cm.EMPTY_FUN = function() {}
;
Cm.Log = Cm.EMPTY_FUN;
Cm.OpenLog = function() {
    Cm.Cache.set("Cm.OpenLog", "1");
    Cm.Log = log;
    console.log("Opened!")
}
;
Cm.HideLog = function() {
    Cm.Cache.del("Cm.OpenLog");
    Cm.Log = Cm.EMPTY_FUN;
    console.log("Closed!")
}
;
Cm.$ = function() {
    return arguments.length == 0 ? $(this) : arguments.length == 1 ? $(this).data(arguments[0]) : ($(this).data(arguments[0], arguments[1]),
    arguments[1])
}
;
Cm.PreFix = {
    CallBack: "_Call_",
    SortedF: "_SortedF_"
};
Cm.jsonToListString = function(n) {
    var t = "";
    return $.each(n, function(n, i) {
        t != "" && (t += ",");
        t += n + "=" + i
    }),
    t
}
;
Cm.jsonToString = function(n) {
    return JSON.stringify(n)
}
;
Cm.jsonArrayToString = function(n) {
    var t = "";
    return $.each(n, function(n, i) {
        t != "" && (t += ",");
        t += JSON.stringify(i)
    }),
    "[" + t + "]"
}
;
Cm.__getInputValF = null;
Cm.getInputValF = function(n) {
    try {
        return n.val().trim() == "" ? parseFloat(n.attr("placeholder")) : parseFloat(n.val())
    } catch (t) {
        return Cm.__getInputValF = n,
        Cm.Log("空值", n),
        0
    }
}
;
Cm.getInputValI = function(n) {
    try {
        return n.val().trim() == "" ? parseInt(n.attr("placeholder")) : parseInt(n.val())
    } catch (t) {
        return Cm.__getInputValI = n,
        Cm.Log("空值", n),
        0
    }
}
;
Cm.prototypeExtend = function(n, t) {
    var i = Cm.EMPTY_FUN;
    i.prototype = t.prototype;
    n.prototype = new i;
    n.prototype.constructor = n
}
;
Cm.Parent = function(n) {
    this.PName = n;
    this.A = function() {
        console.log(1111111)
    }
}
;
Cm.Parent.prototype = {
    constructor: Cm.Parent,
    ToDo: function() {
        console.log(2222222)
    }
};
Cm.Child = function(n, t) {
    Cm.Parent.apply(this, [n]);
    this.name = n;
    this.age = t
}
;
Cm.prototypeExtend(Cm.Child, Cm.Parent);
Cm.Cache = {
    isLocalStorage: !!window.localStorage,
    set: function(n, t) {
        if (this.isLocalStorage)
            window.localStorage.setItem(n, t);
        else {
            var i = new Date;
            i.setTime(i.getTime() + 31536e6);
            document.cookie = n + "=" + escape(t) + ";expires=" + i.toUTCString()
        }
    },
    get: function(n) {
        if (this.isLocalStorage)
            return window.localStorage.getItem(n);
        var t, i = new RegExp("(^| )" + n + "=([^;]*)(;|$)");
        return t == document.cookie.match(i) ? unescape(t[2]) : null
    },
    del: function(n) {
        var t, i;
        this.isLocalStorage ? localStorage.removeItem(n) : (t = new Date,
        t.setTime(t.getTime() - 1),
        i = this.read(n),
        i != null && (document.cookie = n + "=" + i + ";expires=" + t.toUTCString()))
    }
};
Cm.Cache.get("Cm.OpenLog") && Cm.OpenLog(),
function(n) {
    n.fn.IsHidden = function() {
        return !this.is(":visible") || this.is(":hidden")
    }
    ;
    n.fn.IsChecked = function() {
        return this.is(":checked")
    }
}(jQuery);
Cm.isHidden = function(n) {
    return !n.is(":visible") || n.is(":hidden")
}
;
Cm.isNull = function(n) {
    return typeof n == "undefined" || n == null
}
;
Cm.isNullOrEmpty = function(n) {
    return Cm.isNull(n) || n == ""
}
;
Cm.hasInit = function(n) {
    return !!n || n === "" || n === 0 || n === !1
}
;
Cm.setWait = function(n, t) {
    var i = [];
    return i.push('<i class="fa fa-refresh fa-spin"><\/i>'),
    i.push(t),
    n.html(i.join("")),
    i = null,
    n
}
;
Cm.isError = function(n) {
    var i = (n || {}).success || !1, t;
    return i ? !1 : (t = (n || {}).error || Lan.Cm.MsgError,
    console.log(t),
    !0)
}
;
Cm.isErrorStatus = function(n) {
    var i = (n || {}).status || 0, t;
    return i == 0 ? (t = (n || {}).error || Lan.Cm.MsgError,
    console.log("con: " + t),
    !0) : !1
}
;
Cm.IsSuccess = function(n, t) {
    if (!n || n.success === !1) {
        var i = (n || {}).error || !!Lan && !!Lan.Cm && Lan.Cm.MsgError;
        return t || alert(i),
        !1
    }
    return !0
}
;
Cm.MyPost = function(n) {
    var t = this, i, r;
    if ((t.showError = function() {
        console.log(_.get(t, "__postBackData.error"))
    }
    ,
    n) && (i = _.get(n, "lan") || "zh",
    t.lan = i,
    !!Vue)) {
        r = _.now();
        $("body").on("click", "#linkIviewErrorTrace" + r, function() {
            t.showError(1)
        });
        t.showError = function(n) {
            var u = _.get(new Vue, "$Modal.error");
            if (u) {
                var f = t.__postBackData
                  , o = $("<div><\/div>").css("word-break", "break-all").css("margin-right", "40px")
                  , s = $("<h4><\/h4>").html(f.msg)
                  , h = $("<div><\/div>").css("border-top", "1px solid #ccc").css("margin-top", "8px").css("margin-bottom", "8px")
                  , e = $('<a href="javascript:void(0)"><\/a>').html(i == "zh" ? "查看追踪日志" : "Error trapping");
                n || e.attr("id", "linkIviewErrorTrace" + r);
                var c = '<pre style="max-width:' + window.innerWidth * .7 + "px;max-height:" + window.innerHeight * .5 + 'px;overflow:auto;">' + Cm.htmlEncode(f.error) + "<\/pre>"
                  , l = $("<p><\/p>").css("margin-top", "8px").html(n ? c : "")
                  , a = o.append(s).append(h).append(e).append(l)[0].outerHTML;
                u({
                    title: i == "zh" ? "出错啦！" : "Error !",
                    content: a,
                    width: window.innerWidth * .8,
                    duration: 1.5
                })
            }
        }
    }
}
;
Cm.MyPost.prototype = {
    constructor: Cm.MyPost,
    Ask: function(n) {
        return !Cm.isNullOrEmpty(n) && confirm(n)
    },
    B4Post: function(n) {
        var t = this;
        this.__postData = n || this.__postData
    },
    GetCallBack: function(n) {
        var t = this;
        return function(i) {
            return t.__postBackData = i,
            Cm.IsSuccess(i, n)
        }
    },
    Post: function(n) {
        var i = this, r, t;
        if (!!n.ask && !this.Ask(n.ask)) {
            !n.complete || n.complete();
            return
        }
        i.B4Post(n.data);
        i.__postUrl = n.url;
        r = $.extend(this.__postData, {
            __RequestVerificationToken: Cm.Cache.get("__RequestVerificationToken"),
            __IP: Cm.Cache.get("__IP"),
            __IP_Isp: Cm.Cache.get("__IP_Isp")
        });
        Cm.CachePost || (Cm.CachePost = []);
        t = new Cm.MyPost;
        t.__postUrl = n.url;
        t.__postData = this.__postData;
        Cm.CachePost.push(t);
        Cm.CachePost.length > 10 && (Cm.CachePost = Cm.CachePost.slice(1));
        $.ajax({
            url: n.url,
            type: "POST",
            async: "async"in n ? n.async : !0,
            data: r,
            traditional: !1,
            beforeSend: function(n) {
                n.withCredentials = !0
            },
            success: function(r) {
                if (t.__postBackData = r,
                typeof r == "string" && r.indexOf("__BadRequestPage") != -1 && (t.__postBackData = r = {
                    success: !1,
                    error: "URL: <i>" + n.url + "<\/i>\n" + r,
                    msg: $(r).find("small").html()
                }),
                !i.GetCallBack(!!n.error)(r)) {
                    !n.error || n.error(r);
                    return
                }
                !n.success || n.success(r)
            },
            complete: function(t) {
                !n.complete || n.complete(t)
            },
            error: function(t) {
                i.GetCallBack(!!n.error)(t) || !n.error || n.error(t)
            }
        })
    },
    RePost: function(n) {
        this.Post({
            url: this.__postUrl,
            data: this.__postData,
            success: n || function(n) {
                var t = window.__tmp = n;
                console.log("__tmp : ", t)
            }
        })
    }
};
Cm.delayDo = function(n, t, i, r) {
    var u = new Cm.Timer;
    u.Diff(n);
    u.Interval = r || 1e3;
    u.Finish = t;
    u.Do = i || Cm.EMPTY_FUN;
    u.Go()
}
;
Cm.getParameter = function(n) {
    var i = new RegExp("(\\?|#|&)" + n + "=([^&#]*)(&|#|$)","i")
      , t = location.href.match(i);
    return decodeURIComponent(t ? t[2] : "")
}
;
Cm.SortedFunc = function(n) {
    this.Name = n;
    this.$FuncList = $(this);
    this.FuncIdxArray = [];
    this.FuncIdxArray.sort(function(n, t) {
        return n - t
    })
}
;
Cm.SortedFunc.prototype = {
    constructor: Cm.SortedFunc,
    Clear: function() {
        this.FuncIdxArray = [];
        this.$FuncList.removeData()
    },
    Add: function(n, t) {
        $.inArray(n, this.FuncIdxArray) == -1 ? (this.FuncIdxArray.push(n),
        this.FuncIdxArray = this.FuncIdxArray.sort()) : console.log("注: SortedFunc[" + this.Name + "]加入的方法索引重复！ idx : " + n);
        var i = this.$FuncList.data(n.toString()) || [];
        i.push(t);
        this.$FuncList.data(n.toString(), i)
    },
    Fire: function() {
        var n = this;
        $.each(n.FuncIdxArray, function(t, i) {
            $.each(n.$FuncList.data(i.toString()), function(n, t) {
                t()
            })
        })
    }
};
Cm.SetSortedFunc = function(n, t, i) {
    var r = Cm.PreFix.SortedF + n
      , u = Cm.$(r) || new Cm.SortedFunc(n);
    u.Add(t, i);
    Cm.$(r, u)
}
;
Cm.GetSortedFunc = function(n) {
    var t = Cm.PreFix.SortedF + n;
    return Cm.$(t) || new Cm.SortedFunc
}
;
Cm.FireSortedFunc = function(n) {
    Cm.GetSortedFunc(n).Fire()
}
;
Cm.ClearSortedFunc = function(n) {
    Cm.GetSortedFunc(n).Clear()
}
;
Cm.Timer = function() {
    this._Diff = 10;
    this.Interval = 1e3;
    this._Sh = null;
    this.IsRunning = !1;
    this.Complete = []
}
;
Cm.Timer.prototype = {
    constructor: Cm.Timer,
    Diff: function(n) {
        this._Diff = n;
        this.$("__CacheDiff", n)
    },
    $: function() {
        if (arguments.length == 0)
            return $(this);
        if (arguments.length == 1)
            return $(this).data(arguments[0]);
        $(this).data(arguments[0], arguments[1])
    },
    Before: Cm.EMPTY_FUN,
    Do: Cm.EMPTY_FUN,
    Finish: Cm.EMPTY_FUN,
    Go: function() {
        if (this._Diff = this.$("__CacheDiff") || this._Diff,
        !this.IsRunning) {
            this.IsRunning = !0;
            this.Before();
            var n = this;
            this._Sh = setInterval(function() {
                n.Do();
                n._Diff = n._Diff - 1;
                n._Diff <= 0 && (clearInterval(n._Sh),
                n.IsRunning = !1,
                n.Finish())
            }, n.Interval)
        }
    },
    Stop: function(n) {
        var t = this;
        clearInterval(t._Sh);
        t.IsRunning = !1;
        !n ? void 0 : n()
    },
    OrgDiff: function() {
        return this.$("__CacheDiff") || 1
    },
    Percent: function() {
        return 1 - this._Diff * 1 / this.OrgDiff()
    },
    CallComplete: function() {
        $.each(this.Complete, function(n, t) {
            t()
        })
    }
};
Cm.Loop = function() {
    this.Do = arguments.length >= 1 ? arguments[0] : Cm.EMPTY_FUN;
    this.Interval = arguments.length >= 2 ? arguments[1] : 1e3;
    this.IsRunning = !1;
    this._Sh = null
}
;
Cm.Loop.prototype = {
    constructor: Cm.Loop,
    Go: function() {
        var n = this;
        n.IsRunning = !0;
        this._Sh = setInterval(function() {
            n.IsRunning && n.Do()
        }, n.Interval)
    },
    Pause: function() {
        this.IsRunning = !1
    },
    Resume: function() {
        this.IsRunning = !0
    },
    Dispose: function() {
        clearInterval(this._Sh);
        this.IsRunning = !1
    }
};
Cm.Enum = function(n) {
    var t = this;
    this._$ = $(this);
    this.__Length = 0;
    $.each(n, function(n, i) {
        t.__Length++;
        t[i] = 1 << n;
        t._$.data((1 << n).toString(), i)
    })
}
;
Cm.Enum.prototype = {
    constructor: Cm.Enum,
    HasFlag: function(n, t) {
        return (n & t) == t
    },
    GetItems: function(n) {
        for (var r, i = [], t = 0; t < this.__Length; t++)
            r = this._$.data((1 << t).toString()),
            this.HasFlag(n, 1 << t) && i.push(r);
        return i
    },
    AddFlag: function(n, t) {
        return n | t
    },
    DelFlag: function(n, t) {
        return n - (n & t)
    }
};
Cm.AddPrototype = function(n, t) {
    return $.each(t, function(t, i) {
        n.hasOwnProperty(i) || (n[i] = null)
    }),
    n
}
;
Cm.CopyData = function(n, t, i, r) {
    var u, f;
    return !t || !n ? (console.log("空对象！"),
    n) : (r ? (u = Cm.MemberToUpper(t),
    !!i && i.length >= 1 ? (f = Cm.ArrayToObject(i, !0),
    $.each(n, function(t) {
        var i = t.toUpperCase();
        f[i] && u.hasOwnProperty(i) && (n[t] = u[i])
    })) : $.each(n, function(t) {
        var i = t.toUpperCase();
        u.hasOwnProperty(i) && (n[t] = u[i])
    })) : !!i && i.length >= 1 ? $.each(i, function(i, r) {
        t.hasOwnProperty(r) && n.hasOwnProperty(r) && (n[r] = t[r])
    }) : $.each(t, function(t, i) {
        n.hasOwnProperty(t) && (n[t] = i)
    }),
    n)
}
;
Cm.MemberToUpper = function(n) {
    if (!n)
        return console.log("空对象！"),
        null;
    var t = {};
    return $.each(n, function(n, i) {
        t[n.toUpperCase()] = i
    }),
    t
}
;
Cm.ArrayToUpper = function(n) {
    var t = [];
    return $.each(n, function(n, i) {
        t.push(i.toUpperCase())
    }),
    t
}
;
Cm.ArrayToObject = function(n, t) {
    var i = {};
    return $.each(n, function(n, r) {
        i[t ? r.toUpperCase() : r] = !0
    }),
    i
}
;
Cm.GetRandomNum = function(n, t) {
    var i = t - n
      , r = Math.random();
    return n + Math.round(r * i)
}
;
Cm.Array = function() {
    this.flag = {};
    this.count = 0
}
;
Cm.Array.prototype = {
    constructor: Cm.Array,
    __offset: function(n) {
        return 1 << n % 31 + 1
    },
    Push: function(n) {
        var t = this
          , i = function(n) {
            var i = Math.floor(n / 31);
            (t.flag.hasOwnProperty(i) || (t.flag[i] = 0),
            t.flag[i] != (t.flag[i] | t.__offset(n))) && (t.count++,
            t.flag[i] |= t.__offset(n))
        };
        return $.isNumeric(n) ? i(n) : $.isArray(n) && $.each(n, function(n, t) {
            i(t)
        }),
        t
    },
    Pop: function(n) {
        var t = this
          , i = function(n) {
            var i = Math.floor(n / 31);
            t.flag.hasOwnProperty(i) && t.flag[i] == (t.flag[i] | t.__offset(n)) && (t.flag[i] -= t.__offset(n),
            t.count--,
            t.flag[i] == 0 && (t.flag[i] = null,
            delete t.flag[i]))
        };
        return $.isNumeric(n) ? i(n) : $.isArray(n) && $.each(n, function(n, t) {
            i(t)
        }),
        t
    },
    Has: function(n) {
        var t = this, r = function(n) {
            var i = Math.floor(n / 31);
            return t.flag[i] == (t.flag[i] | t.__offset(n))
        }, i;
        return $.isNumeric(n) ? r(n) : $.isArray(n) ? (i = !0,
        $.each(n, function(n, t) {
            if (!r(t))
                return i = !1,
                !1
        }),
        i) : void 0
    },
    Items: function(n) {
        var i = [], r = this, t;
        return n ? (t = [],
        $.each(this.flag, function(n) {
            t.push(n)
        }),
        t.sort(),
        $.each(t, function(n, t) {
            var f = r.flag[t], u;
            if (f != 0)
                for (u = 0; u < 32; u++)
                    f == (f | 1 << u + 1) && i.push(31 * t + u)
        })) : $.each(this.flag, function(n, t) {
            if (t != 0)
                for (var r = 0; r < 32; r++)
                    t == (t | 1 << r + 1) && i.push(31 * n + r)
        }),
        i
    },
    OtherItems: function(n) {
        for (var i, r = [], t = 0; t <= n; t++)
            (i = Math.floor(t / 31),
            this.flag.hasOwnProperty(i) || (this.flag[i] = 0),
            this.flag[i] != (this.flag[i] | this.__offset(t))) && r.push(t);
        return r
    },
    Clear: function() {
        return this.flag = {},
        this.count = 0,
        this
    },
    ToJsonString: function() {
        return Cm.jsonToString(this)
    }
};
Cm.LoadArray = function(n) {
    if ($.isArray(n))
        return (new Cm.Array).Push(n);
    if (typeof n == "object") {
        var t = new Cm.Array;
        return t.count = n.count || 0,
        t.flag = n.flag || {},
        t
    }
}
;
Cm.Task = function(n, t, i, r) {
    this.m = n;
    this.n = t;
    this.name = r || "";
    this.flag = new Cm.Array;
    this.flag.Push(i)
}
;
Cm.Task.prototype = {
    constructor: Cm.Task,
    Next: Cm.EMPTY_FUN,
    Do: function() {},
    IsRunning: !1,
    Go: function() {
        var i = 0, n = this, t, u, r;
        for (n.IsRunning = !0,
        t = function() {
            if (!n.IsRunning)
                return Cm.EMPTY_FUN;
            var r = i++;
            return r < n.m && !n.flag.Has(r) ? function() {
                n.flag.Push(r);
                n.Do(r)
            }
            : i >= n.m ? Cm.EMPTY_FUN : t()
        }
        ,
        n.Next = function() {
            i >= n.m || t()()
        }
        ,
        u = Math.min(n.n, n.m),
        r = 0; r < u; r++)
            t()()
    },
    Pause: function() {
        this.IsRunning = !1
    },
    GetFinish: function() {
        return this.flag.Items()
    },
    Count: function() {
        return this.flag.count
    },
    IsFinish: function() {
        return this.Count() == this.m
    }
};
Cm.FlagDo = function(n, t, i, r) {
    var e = function(i, r, u) {
        for (var f = 0; f <= r; f++)
            u == (u | 1 << f) ? n && n(i * 31 + f) : t && t(i * 31 + f)
    }, f, u;
    if (r === 0) {
        e(0, 0, i[0]);
        return
    }
    if (i && i.length != 0) {
        if (!r || r >= 31 * i.length) {
            if (!n && !t)
                return;
            for (u = 0; u < i.length; u++)
                e(u, 30, i[u]);
            return
        }
        for (f = Math.floor(r / 31),
        f = Math.min(f, i.length),
        u = 0; u <= f; u++)
            e(u, u == f ? r % 31 : 30, i[u])
    }
}
;
Cm.FlagWithIn = function(n, t) {
    var i = [];
    return Cm.FlagDo(function(n) {
        i.push(n)
    }, null, n, t),
    i
}
;
Cm.FlagWithOut = function(n, t) {
    var i = [];
    return Cm.FlagDo(null, function(n) {
        i.push(n)
    }, n, t),
    i
}
;
Cm.Func = function(n, t) {
    var i = "";
    return !t || $.each(t, function(n, t) {
        var r = t;
        typeof t != "number" && (r = "'" + t + "'");
        i += "var " + n + "=" + r + ";"
    }),
    new Function("return function(){ " + i + "return " + n + "}")()()
}
;
Cm.getGuid = function() {
    function n() {
        return ((1 + Math.random()) * 65536 | 0).toString(16).substring(1)
    }
    return n() + n() + "-" + n() + "-" + n() + "-" + n() + "-" + n() + n() + n()
}
;
Cm.getFileSizeDesc = function(n) {
    var r = function(n) {
        return Math.log(n) / Math.log(2)
    }
      , i = r(n)
      , t = "B";
    return i >= 10 && (t = "KB"),
    i >= 20 && (t = "MB"),
    i >= 30 && (t = "GB",
    console.log("警告：当前为1GB以上的数据")),
    i >= 40 && (t = "TB",
    console.log("警告：当前为1TB以上的数据")),
    Math.pow(2, r(n) % 10).toFixed(2) + t
}
;
G = function() {
    this.qty = 10;
    this.idx = 0;
    this.running = !1;
    this.__tmpError = !1;
    this.interval = 50;
    this.id = Cm.getGuid()
}
;
G.prototype = {
    constructor: G,
    publish: function(n) {
        $.publish(this.id + ":" + n)
    },
    subscribe: function(n, t) {
        $.subscribe(this.id + ":" + n, t)
    },
    unsubscribe: function(n, t) {
        $.unsubscribe(this.id + ":" + n, t)
    },
    toDo: function() {
        var n = this;
        setTimeout(function() {
            if (n.idx >= n.qty) {
                n.publish("fininsh");
                return
            }
            console.log(n.message());
            n.__tmpError || n.idx++;
            n.publish("upload")
        }, this.interval)
    },
    message: function() {
        return (this.__tmpError ? "重新" : "") + "上传中 index=" + this.idx
    },
    run: function() {
        var n = this;
        n.__tmpFun = function() {
            n.toDo()
        }
        ;
        n.__tmpFunFinish = function() {
            console.log("全部完成")
        }
        ;
        n.subscribe("upload", n.__tmpFun);
        n.subscribe("fininsh", n.__tmpFunFinish);
        this.toDo()
    },
    restart: function() {
        this.idx = 0;
        this.run()
    },
    stop: function() {
        var n = this;
        n.unsubscribe("upload", n.__tmpFun);
        n.unsubscribe("fininsh", n.__tmpFunFinish)
    }
};
Cm.TplRender = function(n) {
    var t = this;
    t.$tpl = n
}
;
Cm.TplRender.prototype = {
    constructor: Cm.TplRender,
    render: function(n) {
        var r = function(n, t) {
            return $.each(n, function(n, i) {
                t = t.replace(new RegExp("{{" + n + "}}","gim"), i)
            }),
            t
        }, u = this.$tpl.html(), i, t;
        if ($.isArray(n)) {
            if (n.length == 0)
                return "";
            for (i = "",
            t = 0; t < n.length; t++)
                i += r(n[t], u);
            return i
        }
        return r(n, u)
    }
};
Cm.getFlagFromArray = function(n) {
    var t = 0;
    return $.each(n, function(n, i) {
        i && (t |= 1 << n)
    }),
    t
}
;
Cm.getArrayFromFlag = function(n, t) {
    var r = [], i;
    if (t || (t = 31),
    t)
        for (i = 0; i < t; i++)
            r[i] = (n | 1 << i) == n ? 1 : 0;
    return r
}
;
Cm.dialog = function() {
    var n = {}
      , t = null;
    return n.isModalDialog = 1,
    n.align = "center",
    n.show = n.showMsg = function(i, r, u) {
        var f, e;
        if (t = r,
        f = i,
        !i || (f = '<div style="min-width:200px;max-width:350px;min-height:150px;max-width:500px;display:flex;align-items:center;"><table width="100%" height="100%"><tr><td align="' + n.align + '" vlign="center">' + i + "<\/td><\/tr><\/table><\/div>"),
        t = t || new dialog,
        t.open || (n.isModalDialog ? t.showModal() : t.show()),
        t.content(f),
        e = t.node,
        u !== 0 && u !== !1) {
            $(e).off("click", n.closeDialog);
            $(e).on("click", n.closeDialog)
        }
        return t.autoClose = function(n) {
            t && t.open && (n = n || 1500,
            setTimeout(function() {
                t.close()
            }, n))
        }
        ,
        t
    }
    ,
    n.showOK = function() {
        n.showMsg("OK!", t).autoClose(600)
    }
    ,
    n.showError = function(t) {
        typeof t == "object" && (t = t.msg);
        n.closeDialog();
        n.showMsg(t, new dialog({
            title: " "
        }), 0)
    }
    ,
    n.showConfirm = function(n, t, i, r) {
        i = i || "Yes";
        r = r || "No";
        var u = n;
        return !n || (u = '<table width="100%" height="100%"><tr><td align="center">' + n + "<\/td><\/tr><\/table>"),
        new dialog({
            title: " ",
            content: u,
            width: 300,
            button: [{
                value: r
            }, {
                value: i,
                callback: t
            }]
        }).showModal()
    }
    ,
    n.close = n.closeDialog = function() {
        t && t.open && t.close()
    }
    ,
    n
}
;
Cm.infoDialog = function() {
    var n = this;
    n.data = {};
    n.dialogs = [];
    n.isFollow = 1;
    n.title = " ";
    n.width = 0;
    n.dataKey = "data-info";
    n.cmDialog = new Cm.dialog;
    n.cmDialog.isModalDialog = 0;
    n.cmDialog.align = "left";
    n.dialogOpt = [{
        name: "",
        title: "",
        width: 350,
        showMsg: function() {
            return ""
        }
    }]
}
;
Cm.infoDialog.prototype = {
    show: function() {
        var n = this;
        _.forEach(n.dialogs, function(n) {
            n && n.__exShow && n.__exShow()
        })
    },
    eventCall: function(n) {
        var t = this
          , i = $(n).attr(t.dataKey)
          , u = _.findIndex(t.dialogs, {
            __diaName: i
        })
          , f = function() {
            var r = new dialog({
                title: t.title
            }), u;
            return t.isFollow && (r.follow = n),
            t.width && (r.width = t.width),
            r.__diaName = i,
            u = _.find(t.dialogOpt, {
                name: i
            }),
            u && (r.title = u.title,
            r.width = u.width),
            r.__exShow = function() {
                if (r.__mask) {
                    var n = _.find(t.dialogOpt, {
                        name: i
                    })
                      , u = n ? n.showMsg() : t.data[i];
                    t.cmDialog.showMsg(u, r, 0)
                }
            }
            ,
            r.addEventListener("close", function() {
                _.pullAt(t.dialogs, [_.findIndex(t.dialogs, {
                    __diaName: r.__diaName
                })])
            }),
            r
        }
          , r = null;
        u != -1 ? (t.dialogs[u].__mask || (t.dialogs[u] = f()),
        r = t.dialogs[u]) : t.dialogs.push(r = f());
        r.open ? r.close() : r.__exShow()
    }
};
Cm.htmlEncode = function(n) {
    return n ? n.replace(/[<>&"]/g, function(n) {
        return {
            "<": "&lt;",
            ">": "&gt;",
            "&": "&amp;",
            '"': "&quot;"
        }[n]
    }) : n
}
;
Cm.htmlDecode = function(n) {
    if (!n)
        return n;
    var t = {
        lt: "<",
        gt: ">",
        nbsp: " ",
        amp: "&",
        quot: '"'
    };
    return n.replace(/&(lt|gt|nbsp|amp|quot);/ig, function(n, i) {
        return t[i]
    })
}
;
Cm.linkTo = function() {
    var n = $('<a style="display: none" href="' + arguments[0] + '"' + (arguments[1] ? ' target="_blank"' : "") + "><span>link to ...<\/span><\/a>");
    $("body").append(n);
    $("span", n).click();
    n.remove()
}
;
Cm.updateRequestToken = function(n, t) {
    n = +n;
    var i = Cm.Cache.get("__RequestVerificationToken_Time") || 0;
    n > i && (Cm.Cache.set("__RequestVerificationToken_Time", n),
    Cm.Cache.set("__RequestVerificationToken", t))
}
;
Cm.throw = function(n) {
    throw new Error(n);
}
;
Cm.timeChunk = function(n, t, i) {
    var r = n.concat()
      , u = 20;
    setTimeout(function() {
        var f = +new Date;
        do
            t.call(null, r.shift());
        while (r.length && +new Date - f < 50);r.length ? setTimeout(arguments.callee, u) : !i || i(n)
    }, u)
}
;
Cm.createGetterSetter = function(n, t, i, r) {
    var u = {};
    u.get = i ? i : function() {
        Cm.throw("Cannot be get !")
    }
    ;
    u.set = r ? r : function() {
        Cm.throw("Cannot be set !")
    }
    ;
    Object.defineProperty(n, t, u)
}
;
Cm.loadJsOrCssFiles = function(n, t) {
    var u, r, i;
    if (n.length) {
        if (u = document.getElementsByTagName("head")[0],
        !u) {
            if (!document.children.length) {
                console.log("Html空文档添加不了节点！");
                return
            }
            u = document.children[0]
        }
        var o = +new Date
          , e = 0
          , f = "function" == typeof t ? function() {
            n.length == ++e && t()
        }
        : Cm.EMPTY_FUN;
        for (r = 0; r < n.length; r++) {
            if (i = null,
            _.endsWith(n[r], ".js") || n[r].indexOf(".js?") >= 0)
                i = document.createElement("script"),
                i.type = "text/javascript",
                i.charset = "UTF-8",
                i.src = n[r],
                i.addEventListener ? i.addEventListener("load", f, !1) : i.attachEvent && i.attachEvent("onreadystatechange", function() {
                    window.event.srcElement.readyState == "loaded" && f()
                });
            else if (_.endsWith(n[r], ".css") || n[r].indexOf(".css?") >= 0)
                i = document.createElement("link"),
                i.rel = "stylesheet",
                i.href = n[r],
                f();
            else
                continue;
            u.appendChild(i)
        }
    }
}
;
Cm.getMaxRenderSize = function() {
    var n = Cm.Cache.get("__getMaxRenderSize"), t, i;
    return n || (t = document.createElement("canvas"),
    t.width = t.height = 4096,
    i = t.getContext("2d"),
    i.fillStyle = "#f00",
    i.fillRect(0, 0, 1, 1),
    n = !i.getImageData(0, 0, 1, 1).data[0] ? 2290 : 4096,
    Cm.Cache.set("__getMaxRenderSize", n)),
    +n
}
;
Cm.modifyFn = function(n, t, i, r) {
    var f = _.curry(n)
      , e = _.curry(t)
      , u = !i ? null : _.curry(i);
    return function() {
        var i = _.toArray(arguments), t = i.length, n;
        if (t) {
            for (n = 0; n < t - 1; n++)
                typeof e == "function" && (e = e(i[n]));
            typeof e == "function" && e(i[t - 1])
        } else
            e();
        if (t) {
            for (n = 0; n < t - 1; n++)
                typeof f == "function" && (f = f.call(r, i[n]));
            typeof f == "function" && f.call(r, i[t - 1])
        } else
            f.call(r);
        if (!!u)
            if (t) {
                for (n = 0; n < t - 1; n++)
                    typeof u == "function" && (u = u(i[n]));
                typeof u == "function" && u(i[t - 1])
            } else
                u()
    }
}
;
Cm.isIE = function() {
    return !!window.ActiveXObject || "ActiveXObject"in window
}
;
Cm.detectOS = function() {
    var n = navigator.userAgent, t = navigator.platform == "Win32" || navigator.platform == "Windows", i = navigator.platform == "Mac68K" || navigator.platform == "MacPPC" || navigator.platform == "Macintosh" || navigator.platform == "MacIntel", r, u;
    if (i)
        return "Mac";
    if (r = navigator.platform == "X11" && !t && !i,
    r)
        return "Unix";
    if (u = String(navigator.platform).indexOf("Linux") > -1,
    u)
        return "Linux";
    if (t) {
        if (n.indexOf("Windows NT 5.0") > -1 || n.indexOf("Windows 2000") > -1)
            return "Win2000";
        if (n.indexOf("Windows NT 5.1") > -1 || n.indexOf("Windows XP") > -1)
            return "WinXP";
        if (n.indexOf("Windows NT 5.2") > -1 || n.indexOf("Windows 2003") > -1)
            return "Win2003";
        if (n.indexOf("Windows NT 6.0") > -1 || n.indexOf("Windows Vista") > -1)
            return "WinVista";
        if (n.indexOf("Windows NT 6.1") > -1 || n.indexOf("Windows 7") > -1)
            return "Win7";
        if (n.indexOf("Windows NT 10") != -1)
            return "Win10"
    }
    return /(iPhone)/i.test(navigator.userAgent) ? "iPhone" : /(iPad)/i.test(navigator.userAgent) ? "iPad" : /(iPod)/i.test(navigator.userAgent) ? "iPod" : /(iOS)/i.test(navigator.userAgent) ? "iOS" : /(Android)/i.test(navigator.userAgent) ? "Android" : "Other"
}
;
Cm.xmlReq = function(n, t) {
    var i = new XMLHttpRequest;
    i.open("GET", n.src, !0);
    i.setRequestHeader("Access-Control-Allow-Headers", "*");
    i.setRequestHeader("Access-Control-Allow-Origin", "*");
    i.responseType = "arraybuffer";
    i.onreadystatechange = function() {
        var r, u;
        if (i.readyState === 4) {
            r = {};
            r.src = n.src;
            try {
                if (i.status !== 200)
                    throw "";
                var e = i.response
                  , o = new DataView(e)
                  , f = new Uint8Array(e.byteLength);
                for (u = 0; u < f.length; u++)
                    f[u] = o.getUint8(u);
                r.db = f
            } catch (s) {
                r.msg = "加载失败，路径不正确或跨域请求限制"
            }
            t(r)
        }
    }
    ;
    i.send()
}
;
Cm.xmlReq2 = function(n) {
    try {
        if (!n || !n.url || !n.success)
            throw "参数错误！";
        var t = new XMLHttpRequest;
        t.open("GET", n.url, !0);
        n.cross && (t.setRequestHeader("Access-Control-Allow-Headers", "*"),
        t.setRequestHeader("Access-Control-Allow-Origin", "*"));
        t.responseType = n.responseType || "text";
        t.onreadystatechange = function() {
            if (t.readyState === 4)
                try {
                    if (t.status !== 200)
                        throw "";
                    n.success(t.response)
                } catch (i) {
                    "加载失败，路径不正确或跨域请求限制"
                }
        }
        ;
        t.send()
    } catch (i) {
        (n.error || console.log)(i)
    }
}
;
Cm.genUrlFromXmlReq = function(n) {
    try {
        var t = n.db
          , i = t.buffer
          , r = new Blob([i]);
        return URL.createObjectURL(r)
    } catch (u) {
        return null
    }
}
;
Cm.genImageFromXmlReq = function(n) {
    try {
        var i = Cm.genUrlFromXmlReq(n)
          , t = new Image;
        return t.src = i,
        t
    } catch (r) {
        return null
    }
}
;
Cm.isWX = function() {
    var n = navigator.userAgent.toLowerCase();
    return n.match(/MicroMessenger/i) == "micromessenger"
}
;
Cm.isAlipay = function() {
    var n = navigator.userAgent.toLowerCase();
    return n.match(/Alipay/i) == "alipay"
}
;
Cm.isEnableIndexedDB = function() {
    return !window.indexedDB && !window.mozIndexedDB && !window.webkitIndexedDB ? (console.log("您的浏览器不支持IndexedDB数据库。"),
    !1) : !0
}
;
Cm.clearColor = function(n, t) {
    if (!!t) {
        n.fillStyle = t;
        n.fillRect(0, 0, n.canvas.width, n.canvas.height);
        return
    }
    var i = n.globalCompositeOperation;
    n.globalCompositeOperation = "source-in";
    n.fillStyle = "red";
    n.fillRect(-50, -50, 50, 50);
    n.globalCompositeOperation = i
}
;
Cm.cloneCanvas = function(n) {
    var t = document.createElement("canvas"), i;
    return t.width = n.width,
    t.height = n.height,
    i = t.getContext("2d"),
    i.drawImage(n, 0, 0, t.width, t.height),
    t
}
;
Cm.changeCss = function(n, t) {
    var i = !1;
    $.each(document.styleSheets, function(r, u) {
        var e = u.rules ? u.rules : u.cssRules, f;
        if (e)
            for (f = 0; f < e.length; f++)
                if (e[f].selectorText == n) {
                    t && t(e[f]);
                    i = !0;
                    break
                }
        if (i)
            return !1
    })
}
;
Cm.findCss = function(n) {
    var t = null
      , i = !1;
    return $.each(document.styleSheets, function(r, u) {
        var e = u.rules ? u.rules : u.cssRules, f;
        if (e)
            for (f = 0; f < e.length; f++)
                if (e[f].selectorText == n) {
                    t = e[f];
                    i = !0;
                    break
                }
        if (i)
            return !1
    }),
    t
}
;
Cm.topLinkTo = function(n) {
    top.location != self.location ? window.parent.location.href = window.location.origin + n : window.location.href = window.location.origin + n
}
;
Cm.getFuncName = function(n) {
    if (n) {
        var t = n.toString();
        return /function\s*(\w*)/i.exec(t)[1]
    }
}
;
Cm.promiseDo = function(n) {
    var r = n.tasks || [], u, i;
    if (r.length) {
        var e = n.oneSuccess || Cm.EMPTY_FUN
          , o = n.oneError || Cm.EMPTY_FUN
          , s = n.complete || Cm.EMPTY_FUN
          , h = n.stopWhenError || 0;
        n._hasError = 0;
        var f = function() {
            return n._hasError
        }
          , c = function(n) {
            return function() {
                return new Promise(function(t, i) {
                    h && f() ? t(null) : r[n](n, t, i)
                }
                )
            }
        }
          , t = Array.apply(null, {
            length: r.length
        }).map(function(n, t) {
            return c(t)
        });
        for (t.push(function() {
            return new Promise(function(n) {
                n(null);
                s(f())
            }
            )
        }),
        u = new Promise(function(n) {
            n(null)
        }
        ),
        i = 0; i <= t.length; i++)
            (function(i) {
                u = u.then(function(n) {
                    return (n != null && e(n),
                    i == t.length) ? null : t[i]()
                }).catch(function(t) {
                    return n._hasError = 1,
                    o(t),
                    null
                })
            }
            )(i)
    }
}
;
Cm.vueUse = function(n, t) {
    Vue && Cm.createGetterSetter(Vue.prototype, n, function() {
        return t
    })
}
;
Cm.isPC = function() {
    for (var r = navigator.userAgent, t = ["Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod"], i = !0, n = 0; n < t.length; n++)
        if (r.indexOf(t[n]) > 0) {
            i = !1;
            break
        }
    return i
}
;
Cm.getMobileBrowserIdx = function() {
    if (Cm.isPC())
        return -1;
    var n = navigator.userAgent.toLowerCase();
    return n.match(/MicroMessenger/i) == "micromessenger" ? 1 : n.indexOf("mqqbrowser") > -1 && n.indexOf(" qq") < 0 ? 2 : n.indexOf(" qq") > -1 && n.indexOf("mqqbrowser") < 0 ? 3 : n.indexOf("ucbrowser") > -1 ? 4 : n.indexOf("alipay") > -1 ? 5 : n.indexOf("mb2345browser") > -1 ? 6 : 0
}
;
Cm.getImageScale = function(n, t, i, r) {
    var u = n > i ? i / n : 1
      , f = t > r ? r / t : 1;
    return u <= f ? u : f
}
;
Cm.showImg = function(n, t) {
    if (n && _.get(window, "Vue")) {
        var i = n;
        (new Vue).$Modal.info({
            width: window.innerWidth,
            closable: !0,
            scrollable: !0,
            render: function(n) {
                return t ? n("img", {
                    domProps: {
                        id: "__cmImg",
                        width: i.width,
                        height: i.height
                    }
                }) : n("canvas", {
                    domProps: {
                        id: "__cmCvs",
                        width: i.width,
                        height: i.height
                    }
                })
            }
        });
        setTimeout(function() {
            var r, u;
            t ? (r = document.getElementById("__cmImg"),
            r.src = n.toDataURL("image/jpeg")) : (r = document.getElementById("__cmCvs"),
            u = r.getContext("2d"),
            u.drawImage(n, 0, 0, i.width, i.height, 0, 0, i.width, i.height))
        }, 20)
    }
}
,
function() {
    var t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", n;
    Cm.encode = function(n) {
        for (var f = String(n), r, u, i = 0, e = t, o = ""; f.charAt(i | 0) || (e = "=",
        i % 1); o += e.charAt(63 & r >> 8 - i % 1 * 8)) {
            if (u = f.charCodeAt(i += 3 / 4),
            u > 255)
                throw new Error("字符串必需是Latin1字符集");
            r = r << 8 | u
        }
        return o
    }
    ;
    Cm.decode = function(n) {
        var f = String(n).replace(/[=]+$/, "");
        if (f.length % 4 == 1)
            throw new Error("字符串不是正确的编码");
        for (var r = 0, u, i, o = 0, e = ""; i = f.charAt(o++); ~i && (u = r % 4 ? u * 64 + i : i,
        r++ % 4) ? e += String.fromCharCode(255 & u >> (-2 * r & 6)) : 0)
            i = t.indexOf(i);
        return e
    }
    ;
    Cm.extendModule = function(t) {
        _.extend(n, t)
    }
    ;
    n = {
        vue: ["/diy/ref/vue/vue-2.5.13.js"],
        iview: ["/diy/ref/vue/iview-3.4.2.min.css", "/diy/ref/vue/iview-3.4.2.min.js", "/diy/ref/vue/en-us-3.4.2.min.js"],
        "3d": ["/Diy/worktable/tween-16.3.4.js", "/Diy/ref/gl/180402/three-95.min.js", "/Diy/ref/gl/180402/texgen.min.js", "/diy/ref/gl/180402/TrackballControls.js", "/Diy/ref/gl/180402/For3D.js", "/Diy/ref/gl/180402/Lin3D.js", ],
        art: ["/Diy/ref/easeljs.min.js", "/Diy/worktable/ART.js", "/diy/ref/PDFjs/pdf-2.0.550.js", ],
        localDb: ["/Diy/ref/localforage-1.7.3.min.js", ]
    };
    Cm.loadModule = function(t, i) {
        var r = [], u, f;
        if (_.isString(t) && (r = _.concat(r, n[t])),
        _.isArray(t) && _.forEach(t, function(t) {
            r = _.concat(r, n[t])
        }),
        r.length === 0)
            return console.log("loadModule未加载任何模块！");
        u = function(n, t, i) {
            try {
                Cm.loadJsOrCssFiles([r[n]], t)
            } catch (u) {
                i(n)
            }
        }
        ;
        f = _.fill(new Array(r.length), u);
        Cm.promiseDo({
            tasks: f,
            complete: function() {
                i && i()
            }
        })
    }
}();
Cm.colorHex = function(n) {
    var i = n, e, u, f, r, o, t;
    if (/^(rgb|RGB)/.test(i)) {
        for (e = i.replace(/(?:\(|\)|rgb|RGB)*/g, "").split(","),
        u = "#",
        t = 0; t < e.length; t++)
            f = Number(e[t]).toString(16),
            f.length < 2 && (f = "0" + f),
            u += f;
        return u.length !== 7 && (u = i),
        u
    }
    if (/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(i)) {
        if (r = i.replace(/#/, "").split(""),
        r.length === 6)
            return i;
        if (r.length === 3) {
            for (o = "#",
            t = 0; t < r.length; t += 1)
                o += r[t] + r[t];
            return o
        }
    }
    return i
}
;
Cm.colorRgb = function(n) {
    var t = Cm.colorRgbArray(n, 1);
    return t.length ? "RGB(" + t.join(",") + ")" : n
}
;
Cm.colorRgbArray = function(n, t) {
    var f, r, u, i;
    if (t = t || 1,
    n = n.toLowerCase(),
    f = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,
    r = [],
    n && f.test(n)) {
        if (n.length === 4) {
            for (u = "#",
            i = 1; i < 4; i += 1)
                u += n.slice(i, i + 1).concat(n.slice(i, i + 1));
            n = u
        }
        for (i = 1; i < 7; i += 2)
            r.push(parseInt("0x" + n.slice(i, i + 2)) / t)
    }
    return r
}
;
Cm.getUrlPms = function(n) {
    return n.match(/([^?=&]+)(=([^&]*))/g).reduce(function(n, t) {
        return n[t.slice(0, t.indexOf("="))] = t.slice(t.indexOf("=") + 1),
        n
    }, {})
}
;
Cm.genUrlPms = function(n) {
    var t = "";
    return _.forEach(n, function(n, i) {
        t += (t ? "&" : "") + i + "=" + encodeURIComponent(n)
    }),
    t
}
;
Cm.getDateDiffBySeconds = function(n, t) {
    return (t - n) / 1e3
}
;
Cm.getDateDiffByMinutes = function(n, t) {
    return (t - n) / 6e4
}
;
Cm.getDateDiffByHours = function(n, t) {
    return (t - n) / 36e5
}
;
Cm.getDateDiffByDays = function(n, t) {
    return (t - n) / 864e5
}
;
window.Intl && (Cm.dateFormat = new Intl.DateTimeFormat("zh",{
    year: "numeric",
    month: "2-digit",
    day: "2-digit",
    hour: "2-digit",
    minute: "2-digit",
    second: "2-digit",
    hour12: !1
}).format);
Cm.scrollToTop = function(n) {
    var i = function(n, t) {
        return n["r" + t] || n["webkitR" + t] || n["mozR" + t] || n["msR" + t] || n["oR" + t] || function(t) {
            n.setTimeout(t, 1e3 / 60)
        }
    }(window, "equestAnimationFrame")
      , t = n ? n.scrollTop : document.documentElement.scrollTop;
    t > (n ? n : document.documentElement).scrollHeight * .005 ? (i(function() {
        Cm.scrollToTop(n)
    }),
    (n ? n : window).scrollTo(0, t * .875)) : ((n ? n : window).scrollTo(0, 0),
    console.log("ToTop ok!"))
}
;
Cm.scrollToBottom = function(n) {
    var i = function(n, t) {
        return n["r" + t] || n["webkitR" + t] || n["mozR" + t] || n["msR" + t] || n["oR" + t] || function(t) {
            n.setTimeout(t, 1e3 / 60)
        }
    }(window, "equestAnimationFrame")
      , t = n || document.documentElement;
    (t.scrollHeight - t.scrollTop - t.clientHeight) / t.scrollHeight > .005 ? (i(function() {
        Cm.scrollToBottom(n)
    }),
    (n ? n : window).scrollTo(0, t.scrollTop + t.scrollHeight * .03)) : ((n ? n : window).scrollTo(0, t.scrollHeight),
    console.log("ToBottom ok!"))
}
;
Cm.speechSynthesis = function(n) {
    try {
        console.log("speak");
        var t = new SpeechSynthesisUtterance(n);
        t.voice = window.speechSynthesis.getVoices()[0];
        window.speechSynthesis.speak(t)
    } catch (i) {}
}
;
Cm.UUIDGenerator = function() {
    return "10000000-1000-4000-8000-100000000000".replace(/[018]/g, function(n) {
        return (n ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> n / 4).toString(16)
    })
}
;
Cm.validateEmail = function(n) {
    return /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)
}
;
Cm.viewDialog = function(n) {
    function i(i) {
        !t || (t(),
        n.$Message.destroy(),
        t = null);
        var r = _.get(i, "msg");
        r ? n.$Message.error(r) : n.$Message.success("OK!")
    }
    function r() {
        !t || (t(),
        t = null)
    }
    function u() {
        return !t ? (t = n.$Message.loading({
            content: "正在执行，请稍候．．．".exLang(),
            duration: 0
        }),
        !1) : (n.$Message.warning({
            content: "请勿重复执行！".exLang()
        }),
        !0)
    }
    n = n || new Vue;
    var t = null;
    this.closeMsg = i;
    this.closeMsgWithNone = r;
    this.isLoading = u
}
;
Cm.getPos = function(n) {
    var t = n.getBoundingClientRect();
    return {
        x: t.left + document.documentElement.scrollLeft,
        y: t.top + document.documentElement.scrollTop
    }
}
;
Cm.isInView = function(n) {
    var t = n.getBoundingClientRect()
      , i = t.top
      , r = t.bottom
      , u = document.documentElement.clientHeight;
    return i < u && r > 0
}
;
Cm.getImgBase64 = function(n, t) {
    var i = new XMLHttpRequest;
    i.onload = function() {
        var n = new FileReader;
        n.onloadend = function() {
            t(n.result)
        }
        ;
        n.readAsDataURL(i.response)
    }
    ;
    i.open("GET", n);
    i.responseType = "blob";
    i.send()
}
;
Cm.getText = function(n, t) {
    var i = new XMLHttpRequest;
    i.onload = function() {
        if (i.status !== 200)
            throw "";
        var n = i.response;
        t(n)
    }
    ;
    i.open("GET", n);
    i.responseType = "text";
    i.send()
}
;
